model Workspace {
    id             String   @id @default(auto()) @map("_id") @db.ObjectId
    url            String?  @unique @default("")
    visibility     Boolean  @default(false)
    readAccess     Json?
    writeAccess    Json?
    totalMembers   Int
    name           String   @unique
    description    String?  @default("")
    RandR          String?  @default("")
    image          String?  @default("https://i.pinimg.com/736x/4e/38/e7/4e38e73208c8a9c2410e4f1d9cb90ee5.jpg")
    workspaceAdmin String[]
    owner          String   @db.ObjectId
    plan           String?  @default("free")
    members        String[] @default([])
}

model WorkspaceMember {
    id          String @id @default(auto()) @map("_id") @db.ObjectId
    userId      String @db.ObjectId
    name        String
    email       String
    image       String
    workspaceId String @unique @db.ObjectId
}

model Project {
    id          String   @id @default(auto()) @map("_id") @db.ObjectId
    name        String
    purpose     String
    workspaceId String   @unique @db.ObjectId
    createdAt   DateTime
    members     String[]
}

model ProjectMember {
    id        String @id @default(auto()) @map("_id") @db.ObjectId
    projectId String @db.ObjectId
    name      String
    email     String
    image     String
    userId    String
}

model Channel {
    id          String   @id @default(auto()) @map("_id") @db.ObjectId
    projectId   String   @unique @db.ObjectId
    workspaceId String   @unique @db.ObjectId
    visibility  Boolean  @default(false)
    name        String
    stars       Int      @default(0)
    members     String[]
}

model channelMember {
    id        String @id @default(auto()) @map("_id") @db.ObjectId
    channelID String @unique @db.ObjectId
    name      String
    email     String
    image     String
    userId    String @db.ObjectId
}

model JoinChannelRequest {
    id        String   @id @default(auto()) @map("_id") @db.ObjectId
    name      String
    userId    String   @unique
    channelId String   @unique
    toAdmin   String   @unique
    accept    Boolean  @default(false)
    revoke    Boolean  @default(false)
    timestamp DateTime @default(now())
}

model Message {
    id           String   @id @default(auto()) @map("_id") @db.ObjectId
    type         String
    text         String
    image        String?
    channelId    String   @unique @db.ObjectId
    commentCount Int
    timestamp    DateTime
}

model ArtificiumChat {
    id        String   @id @default(auto()) @map("_id") @db.ObjectId
    projectId String   @unique
    text      String
    belongsTo String   @unique
    type      String
    timestamp DateTime
    image     String?
}

model Comment {
    id           String @id @default(auto()) @map("_id") @db.ObjectId
    type         String
    text         String
    image        String
    messageId    String @unique //parentComment 
    commentCount Int
}

// model SubComment {
//     id            String @id @default(auto()) @map("_id") @db.ObjectId
//     parentComment String @db.ObjectId
//     type          String
//     text          String
//     image         String
//     messageId     String
//     commentCount  Int
// }
